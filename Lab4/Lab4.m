theta1=0;
theta2=0;
theta3=0;
theta4=0;
theta5=0;
theta6=0;
Rx = [1 0 0; 0 cos(pi/2) -sin(pi/2); 0 sin(pi/2) cos(pi/2)];
Ry = [-cos(-pi/2) 0 sin(-pi/2); 0 1 0; -sin(-pi/2) 0 cos(-pi/2)];
R = Ry*Rx
p = [540; 257; 207];
M = [R p; 0 0 0 1];
w1 = [0; 0; 1];
w2 = [0; 1; 0];
w3 = [0; 1; 0];
w4 = [0; 1; 0];
w5 = [1; 0; 0];
w6 = [0; 1; 0];
p1 = [0; 0; 0];
p2 = [0; 0; 152];
p3 = [244; 0; 152];
p4 = [457; 0; 152];
p5 = [0; 120; 152];
p6 = [540; 0; 152];
v1 = cross(-w1, p1)
v2 = cross(-w2, p2)
v3 = cross(-w3, p3)
v4 = cross(-w4, p4)
v5 = cross(-w5, p5)
v6 = cross(-w6, p6)
S1 = [0 -w1(3,1) w1(2,1) v1(1,1); w1(3,1) 0 -w1(1,1) v1(2,1); -w1(2,1) w1(1,1) 0 v1(3,1); 0 0 0 0]
S2 = [0 -w2(3,1) w2(2,1) v2(1,1); w2(3,1) 0 -w2(1,1) v2(2,1); -w2(2,1) w2(1,1) 0 v2(3,1); 0 0 0 0]
S3 = [0 -w3(3,1) w3(2,1) v3(1,1); w3(3,1) 0 -w3(1,1) v3(2,1); -w3(2,1) w3(1,1) 0 v3(3,1); 0 0 0 0]
S4 = [0 -w4(3,1) w4(2,1) v4(1,1); w4(3,1) 0 -w4(1,1) v4(2,1); -w4(2,1) w4(1,1) 0 v4(3,1); 0 0 0 0]
S5 = [0 -w5(3,1) w5(2,1) v5(1,1); w5(3,1) 0 -w5(1,1) v5(2,1); -w5(2,1) w5(1,1) 0 v5(3,1); 0 0 0 0]
S6 = [0 -w6(3,1) w6(2,1) v6(1,1); w6(3,1) 0 -w6(1,1) v6(2,1); -w6(2,1) w6(1,1) 0 v6(3,1); 0 0 0 0]

sum = S1*theta1 + S2*theta2 + S3*theta3 + S4*theta4 + S5*theta5 + S6*theta6
T = expm(sum)*M











